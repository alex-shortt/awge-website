THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,n,r){var o=this,i=new THREE.FileLoader(this.manager);i.setPath(this.path),i.load(e,function(e){t(o.parse(e))},n,r)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},r=/\s+/,o={},i=0;i<t.length;i++){var a=t[i];if(0!==(a=a.trim()).length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),l=s>=0?a.substring(0,s):a;l=l.toLowerCase();var u=s>=0?a.substring(s+1):"";if(u=u.trim(),"newmtl"===l)n={name:u},o[u]=n;else if(n)if("ka"===l||"kd"===l||"ks"===l){var c=u.split(r,3);n[l]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[l]=u}}var h=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(o),h}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],o={};t[n]=o;for(var i in r){var a=!0,s=r[i],l=i.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(o[l]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function n(e,n){if(!i[e]){var o=r.getTextureParams(n,i),a=r.loadTexture(t(r.baseUrl,o.url));a.repeat.copy(o.scale),a.offset.copy(o.offset),a.wrapS=r.wrap,a.wrapT=r.wrap,i[e]=a}}var r=this,o=this.materialsInfo[e],i={name:e,side:this.side};for(var a in o){var s=o[a];if(""!==s)switch(a.toLowerCase()){case"kd":i.color=(new THREE.Color).fromArray(s);break;case"ks":i.specular=(new THREE.Color).fromArray(s);break;case"map_kd":n("map",s);break;case"map_ks":n("specularMap",s);break;case"map_bump":case"bump":n("bumpMap",s);break;case"ns":i.shininess=parseFloat(s);break;case"d":s<1&&(i.opacity=s,i.transparent=!0);break;case"Tr":s>0&&(i.opacity=1-s,i.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(i),this.materials[e]},getTextureParams:function(e,t){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},o=e.split(/\s+/);return(n=o.indexOf("-bm"))>=0&&(t.bumpScale=parseFloat(o[n+1]),o.splice(n,2)),(n=o.indexOf("-s"))>=0&&(r.scale.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),(n=o.indexOf("-o"))>=0&&(r.offset.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),r.url=o.join(" ").trim(),r},loadTexture:function(e,t,n,r,o){var i,a=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),i=a.load(e,n,r,o),void 0!==t&&(i.mapping=t),i}},THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,n,r){var o=this,i=new THREE.FileLoader(o.manager);i.setPath(this.path),i.load(e,function(e){t(o.parse(e))},n,r)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,o=this.object.geometry.vertices;o.push(r[e+0]),o.push(r[e+1]),o.push(r[e+2]),o.push(r[t+0]),o.push(r[t+1]),o.push(r[t+2]),o.push(r[n+0]),o.push(r[n+1]),o.push(r[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var r=this.normals,o=this.object.geometry.normals;o.push(r[e+0]),o.push(r[e+1]),o.push(r[e+2]),o.push(r[t+0]),o.push(r[t+1]),o.push(r[t+2]),o.push(r[n+0]),o.push(r[n+1]),o.push(r[n+2])},addUV:function(e,t,n){var r=this.uvs,o=this.object.geometry.uvs;o.push(r[e+0]),o.push(r[e+1]),o.push(r[t+0]),o.push(r[t+1]),o.push(r[n+0]),o.push(r[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,r,o,i,a,s,l,u,c,h){var d,p=this.vertices.length,f=this.parseVertexIndex(e,p),m=this.parseVertexIndex(t,p),g=this.parseVertexIndex(n,p);if(void 0===r?this.addVertex(f,m,g):(d=this.parseVertexIndex(r,p),this.addVertex(f,m,d),this.addVertex(m,g,d)),void 0!==o){var E=this.uvs.length;f=this.parseUVIndex(o,E),m=this.parseUVIndex(i,E),g=this.parseUVIndex(a,E),void 0===r?this.addUV(f,m,g):(d=this.parseUVIndex(s,E),this.addUV(f,m,d),this.addUV(m,g,d))}if(void 0!==l){var v=this.normals.length;f=this.parseNormalIndex(l,v),m=l===u?f:this.parseNormalIndex(u,v),g=l===c?f:this.parseNormalIndex(c,v),void 0===r?this.addNormal(f,m,g):(d=this.parseNormalIndex(h,v),this.addNormal(f,m,d),this.addNormal(m,g,d))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,o=0,i=e.length;o<i;o++)this.addVertexLine(this.parseVertexIndex(e[o],n));for(var a=0,i=t.length;a<i;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),r="",o="",i="",a=[],s="function"==typeof"".trimLeft,l=0,u=n.length;l<u;l++)if(r=n[l],0!==(r=s?r.trimLeft():r.trim()).length&&"#"!==(o=r.charAt(0)))if("v"===o)if(" "===(i=r.charAt(1))&&null!==(a=this.regexp.vertex_pattern.exec(r)))t.vertices.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else if("n"===i&&null!==(a=this.regexp.normal_pattern.exec(r)))t.normals.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else{if("t"!==i||null===(a=this.regexp.uv_pattern.exec(r)))throw new Error("Unexpected vertex/normal/uv line: '"+r+"'");t.uvs.push(parseFloat(a[1]),parseFloat(a[2]))}else if("f"===o)if(null!==(a=this.regexp.face_vertex_uv_normal.exec(r)))t.addFace(a[1],a[4],a[7],a[10],a[2],a[5],a[8],a[11],a[3],a[6],a[9],a[12]);else if(null!==(a=this.regexp.face_vertex_uv.exec(r)))t.addFace(a[1],a[3],a[5],a[7],a[2],a[4],a[6],a[8]);else if(null!==(a=this.regexp.face_vertex_normal.exec(r)))t.addFace(a[1],a[3],a[5],a[7],void 0,void 0,void 0,void 0,a[2],a[4],a[6],a[8]);else{if(null===(a=this.regexp.face_vertex.exec(r)))throw new Error("Unexpected face line: '"+r+"'");t.addFace(a[1],a[2],a[3],a[4])}else if("l"===o){var c=r.substring(1).trim().split(" "),h=[],d=[];if(-1===r.indexOf("/"))h=c;else for(var p=0,f=c.length;p<f;p++){var m=c[p].split("/");""!==m[0]&&h.push(m[0]),""!==m[1]&&d.push(m[1])}t.addLineGeometry(h,d)}else if(null!==(a=this.regexp.object_pattern.exec(r))){var g=(" "+a[0].substr(1).trim()).substr(1);t.startObject(g)}else if(this.regexp.material_use_pattern.test(r))t.object.startMaterial(r.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(r))t.materialLibraries.push(r.substring(7).trim());else{if(null===(a=this.regexp.smoothing_pattern.exec(r))){if("\0"===r)continue;throw new Error("Unexpected line: '"+r+"'")}var E=a[1].trim().toLowerCase();t.object.smooth="1"===E||"on"===E,(M=t.object.currentMaterial())&&(M.smooth=t.object.smooth)}t.finalize();var v=new THREE.Group;v.materialLibraries=[].concat(t.materialLibraries);for(var l=0,u=t.objects.length;l<u;l++){var b=t.objects[l],T=b.geometry,w=b.materials,y="Line"===T.type;if(0!==T.vertices.length){var x=new THREE.BufferGeometry;x.addAttribute("position",new THREE.BufferAttribute(new Float32Array(T.vertices),3)),T.normals.length>0?x.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(T.normals),3)):x.computeVertexNormals(),T.uvs.length>0&&x.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(T.uvs),2));for(var R=[],O=0,L=w.length;O<L;O++){var H=w[O],M=void 0;if(null!==this.materials&&(M=this.materials.create(H.name),y&&M&&!(M instanceof THREE.LineBasicMaterial))){var j=new THREE.LineBasicMaterial;j.copy(M),M=j}M||((M=y?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=H.name),M.shading=H.smooth?THREE.SmoothShading:THREE.FlatShading,R.push(M)}var P;if(R.length>1){for(var O=0,L=w.length;O<L;O++)H=w[O],x.addGroup(H.groupStart,H.groupCount,O);P=y?new THREE.LineSegments(x,R):new THREE.Mesh(x,R)}else P=y?new THREE.LineSegments(x,R[0]):new THREE.Mesh(x,R[0]);P.name=b.name,v.add(P)}}return console.timeEnd("OBJLoader"),v}},THREE.OrbitControls=function(e,t){function n(){return 2*Math.PI/60/60*k.autoRotateSpeed}function r(){return Math.pow(.95,k.zoomSpeed)}function o(e){I.theta-=e}function i(e){I.phi-=e}function a(e){k.object instanceof THREE.PerspectiveCamera?z/=e:k.object instanceof THREE.OrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom*e)),k.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function s(e){k.object instanceof THREE.PerspectiveCamera?z*=e:k.object instanceof THREE.OrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom/e)),k.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function l(e){Z.set(e.clientX,e.clientY)}function u(e){K.set(e.clientX,e.clientY)}function c(e){G.set(e.clientX,e.clientY)}function h(e){X.set(e.clientX,e.clientY),W.subVectors(X,Z);var t=k.domElement===document?k.domElement.body:k.domElement;o(2*Math.PI*W.x/t.clientWidth*k.rotateSpeed),i(2*Math.PI*W.y/t.clientHeight*k.rotateSpeed),Z.copy(X),k.update()}function d(e){J.set(e.clientX,e.clientY),$.subVectors(J,K),$.y>0?a(r()):$.y<0&&s(r()),K.copy(J),k.update()}function p(e){q.set(e.clientX,e.clientY),Q.subVectors(q,G),ne(Q.x,Q.y),G.copy(q),k.update()}function f(e){}function m(e){e.deltaY<0?s(r()):e.deltaY>0&&a(r()),k.update()}function g(e){switch(e.keyCode){case k.keys.UP:ne(0,k.keyPanSpeed),k.update();break;case k.keys.BOTTOM:ne(0,-k.keyPanSpeed),k.update();break;case k.keys.LEFT:ne(k.keyPanSpeed,0),k.update();break;case k.keys.RIGHT:ne(-k.keyPanSpeed,0),k.update()}}function E(e){Z.set(e.touches[0].pageX,e.touches[0].pageY)}function v(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);K.set(0,r)}function b(e){G.set(e.touches[0].pageX,e.touches[0].pageY)}function T(e){X.set(e.touches[0].pageX,e.touches[0].pageY),W.subVectors(X,Z);var t=k.domElement===document?k.domElement.body:k.domElement;o(2*Math.PI*W.x/t.clientWidth*k.rotateSpeed),i(2*Math.PI*W.y/t.clientHeight*k.rotateSpeed),Z.copy(X),k.update()}function w(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);J.set(0,o),$.subVectors(J,K),$.y>0?s(r()):$.y<0&&a(r()),K.copy(J),k.update()}function y(e){q.set(e.touches[0].pageX,e.touches[0].pageY),Q.subVectors(q,G),ne(Q.x,Q.y),G.copy(q),k.update()}function x(e){}function R(e){if(!1!==k.enabled){switch(e.preventDefault(),e.button){case k.mouseButtons.ORBIT:if(!1===k.enableRotate)return;l(e),U=F.ROTATE;break;case k.mouseButtons.ZOOM:if(!1===k.enableZoom)return;u(e),U=F.DOLLY;break;case k.mouseButtons.PAN:if(!1===k.enablePan)return;c(e),U=F.PAN}U!==F.NONE&&(document.addEventListener("mousemove",O,!1),document.addEventListener("mouseup",L,!1),k.dispatchEvent(N))}}function O(e){if(!1!==k.enabled)switch(e.preventDefault(),U){case F.ROTATE:if(!1===k.enableRotate)return;h(e);break;case F.DOLLY:if(!1===k.enableZoom)return;d(e);break;case F.PAN:if(!1===k.enablePan)return;p(e)}}function L(e){!1!==k.enabled&&(f(e),document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",L,!1),k.dispatchEvent(_),U=F.NONE)}function H(e){!1===k.enabled||!1===k.enableZoom||U!==F.NONE&&U!==F.ROTATE||(e.preventDefault(),e.stopPropagation(),m(e),k.dispatchEvent(N),k.dispatchEvent(_))}function M(e){!1!==k.enabled&&!1!==k.enableKeys&&!1!==k.enablePan&&g(e)}function j(e){if(!1!==k.enabled){switch(e.touches.length){case 1:if(!1===k.enableRotate)return;E(e),U=F.TOUCH_ROTATE;break;case 2:if(!1===k.enableZoom)return;v(e),U=F.TOUCH_DOLLY;break;case 3:if(!1===k.enablePan)return;b(e),U=F.TOUCH_PAN;break;default:U=F.NONE}U!==F.NONE&&k.dispatchEvent(N)}}function P(e){if(!1!==k.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===k.enableRotate)return;if(U!==F.TOUCH_ROTATE)return;T(e);break;case 2:if(!1===k.enableZoom)return;if(U!==F.TOUCH_DOLLY)return;w(e);break;case 3:if(!1===k.enablePan)return;if(U!==F.TOUCH_PAN)return;y(e);break;default:U=F.NONE}}function S(e){!1!==k.enabled&&(x(e),k.dispatchEvent(_),U=F.NONE)}function A(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return D.phi},this.getAzimuthalAngle=function(){return D.theta},this.saveState=function(){k.target0.copy(k.target),k.position0.copy(k.object.position),k.zoom0=k.object.zoom},this.reset=function(){k.target.copy(k.target0),k.object.position.copy(k.position0),k.object.zoom=k.zoom0,k.object.updateProjectionMatrix(),k.dispatchEvent(C),k.update(),U=F.NONE},this.update=function(){var t=new THREE.Vector3,r=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),i=r.clone().inverse(),a=new THREE.Vector3,s=new THREE.Quaternion;return function(){var e=k.object.position;return t.copy(e).sub(k.target),t.applyQuaternion(r),D.setFromVector3(t),k.autoRotate&&U===F.NONE&&o(n()),D.theta+=I.theta,D.phi+=I.phi,D.theta=Math.max(k.minAzimuthAngle,Math.min(k.maxAzimuthAngle,D.theta)),D.phi=Math.max(k.minPolarAngle,Math.min(k.maxPolarAngle,D.phi)),D.makeSafe(),D.radius*=z,D.radius=Math.max(k.minDistance,Math.min(k.maxDistance,D.radius)),k.target.add(Y),t.setFromSpherical(D),t.applyQuaternion(i),e.copy(k.target).add(t),k.object.lookAt(k.target),!0===k.enableDamping?(I.theta*=1-k.dampingFactor,I.phi*=1-k.dampingFactor):I.set(0,0,0),z=1,Y.set(0,0,0),!!(B||a.distanceToSquared(k.object.position)>V||8*(1-s.dot(k.object.quaternion))>V)&&(k.dispatchEvent(C),a.copy(k.object.position),s.copy(k.object.quaternion),B=!1,!0)}}(),this.dispose=function(){k.domElement.removeEventListener("contextmenu",A,!1),k.domElement.removeEventListener("mousedown",R,!1),k.domElement.removeEventListener("wheel",H,!1),k.domElement.removeEventListener("touchstart",j,!1),k.domElement.removeEventListener("touchend",S,!1),k.domElement.removeEventListener("touchmove",P,!1),document.removeEventListener("mousemove",O,!1),document.removeEventListener("mouseup",L,!1),window.removeEventListener("keydown",M,!1)};var k=this,C={type:"change"},N={type:"start"},_={type:"end"},F={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},U=F.NONE,V=1e-6,D=new THREE.Spherical,I=new THREE.Spherical,z=1,Y=new THREE.Vector3,B=!1,Z=new THREE.Vector2,X=new THREE.Vector2,W=new THREE.Vector2,G=new THREE.Vector2,q=new THREE.Vector2,Q=new THREE.Vector2,K=new THREE.Vector2,J=new THREE.Vector2,$=new THREE.Vector2,ee=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),Y.add(e)}}(),te=function(){var e=new THREE.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),Y.add(e)}}(),ne=function(){var e=new THREE.Vector3;return function(t,n){var r=k.domElement===document?k.domElement.body:k.domElement;if(k.object instanceof THREE.PerspectiveCamera){var o=k.object.position;e.copy(o).sub(k.target);var i=e.length();i*=Math.tan(k.object.fov/2*Math.PI/180),ee(2*t*i/r.clientHeight,k.object.matrix),te(2*n*i/r.clientHeight,k.object.matrix)}else k.object instanceof THREE.OrthographicCamera?(ee(t*(k.object.right-k.object.left)/k.object.zoom/r.clientWidth,k.object.matrix),te(n*(k.object.top-k.object.bottom)/k.object.zoom/r.clientHeight,k.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),k.enablePan=!1)}}();k.domElement.addEventListener("contextmenu",A,!1),k.domElement.addEventListener("mousedown",R,!1),k.domElement.addEventListener("wheel",H,!1),k.domElement.addEventListener("touchstart",j,!1),k.domElement.addEventListener("touchend",S,!1),k.domElement.addEventListener("touchmove",P,!1),window.addEventListener("keydown",M,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=u),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var r=e(this),o=r.data(H);o||(o=new n(this,t),r.data(H,o))})}function n(t,n){function M(t){if(!(ue()||e(t.target).closest(n.excludedElements,Ze).length>0)){var r=t.originalEvent?t.originalEvent:t;if(!r.pointerType||"mouse"!=r.pointerType||0!=n.fallbackToMouseEvents){var o,i=r.touches,a=i?i[0]:r;return Xe=T,i?We=i.length:!1!==n.preventDefaultEvents&&t.preventDefault(),Ne=0,_e=null,Fe=null,Ye=null,Ue=0,Ve=0,De=0,Ie=1,ze=0,Be=ge(),se(),he(0,a),!i||We===n.fingers||n.fingers===v||Y()?(qe=Oe(),2==We&&(he(1,i[1]),Ve=De=be(Ge[0].start,Ge[1].start)),(n.swipeStatus||n.pinchStatus)&&(o=N(r,Xe))):o=!1,!1===o?(Xe=x,N(r,Xe),o):(n.hold&&(tt=setTimeout(e.proxy(function(){Ze.trigger("hold",[r.target]),n.hold&&(o=n.hold.call(Ze,r,r.target))},this),n.longTapThreshold)),ce(!0),null)}}}function j(e){var t=e.originalEvent?e.originalEvent:e;if(Xe!==y&&Xe!==x&&!le()){var r,o=t.touches,i=de(o?o[0]:t);if(Qe=Oe(),o&&(We=o.length),n.hold&&clearTimeout(tt),Xe=w,2==We&&(0==Ve?(he(1,o[1]),Ve=De=be(Ge[0].start,Ge[1].start)):(de(o[1]),De=be(Ge[0].end,Ge[1].end),Ye=we(Ge[0].end,Ge[1].end)),Ie=Te(Ve,De),ze=Math.abs(Ve-De)),We===n.fingers||n.fingers===v||!o||Y()){if(_e=Re(i.start,i.end),Fe=Re(i.last,i.end),I(e,Fe),Ne=ye(i.start,i.end),Ue=ve(),fe(_e,Ne),r=N(t,Xe),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var a=!0;if(n.triggerOnTouchLeave){var s=Le(this);a=He(i.end,s)}!n.triggerOnTouchEnd&&a?Xe=C(w):n.triggerOnTouchLeave&&!a&&(Xe=C(y)),Xe!=x&&Xe!=y||N(t,Xe)}}else Xe=x,N(t,Xe);!1===r&&(Xe=x,N(t,Xe))}}function P(e){var t=e.originalEvent?e.originalEvent:e,r=t.touches;if(r){if(r.length&&!le())return ae(t),!0;if(r.length&&le())return!0}return le()&&(We=Je),Qe=Oe(),Ue=ve(),U()||!F()?(Xe=x,N(t,Xe)):n.triggerOnTouchEnd||!1===n.triggerOnTouchEnd&&Xe===w?(!1!==n.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),Xe=y,N(t,Xe)):!n.triggerOnTouchEnd&&Q()?(Xe=y,_(t,Xe,p)):Xe===w&&(Xe=x,N(t,Xe)),ce(!1),null}function S(){We=0,Qe=0,qe=0,Ve=0,De=0,Ie=1,se(),ce(!1)}function A(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(Xe=C(y),N(t,Xe))}function k(){Ze.unbind(Pe,M),Ze.unbind(Ce,S),Ze.unbind(Se,j),Ze.unbind(Ae,P),ke&&Ze.unbind(ke,A),ce(!1)}function C(e){var t=e,r=D(),o=F(),i=U();return!r||i?t=x:!o||e!=w||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&e==y&&n.triggerOnTouchLeave&&(t=x):t=y,t}function N(e,t){var n,r=e.touches;return(W()||X())&&(n=_(e,t,h)),(B()||Y())&&!1!==n&&(n=_(e,t,d)),oe()&&!1!==n?n=_(e,t,f):ie()&&!1!==n?n=_(e,t,m):re()&&!1!==n&&(n=_(e,t,p)),t===x&&S(e),t===y&&(r?r.length||S(e):S(e)),n}function _(t,u,c){var g;if(c==h){if(Ze.trigger("swipeStatus",[u,_e||null,Ne||0,Ue||0,We,Ge,Fe]),n.swipeStatus&&!1===(g=n.swipeStatus.call(Ze,t,u,_e||null,Ne||0,Ue||0,We,Ge,Fe)))return!1;if(u==y&&Z()){if(clearTimeout(et),clearTimeout(tt),Ze.trigger("swipe",[_e,Ne,Ue,We,Ge,Fe]),n.swipe&&!1===(g=n.swipe.call(Ze,t,_e,Ne,Ue,We,Ge,Fe)))return!1;switch(_e){case r:Ze.trigger("swipeLeft",[_e,Ne,Ue,We,Ge,Fe]),n.swipeLeft&&(g=n.swipeLeft.call(Ze,t,_e,Ne,Ue,We,Ge,Fe));break;case o:Ze.trigger("swipeRight",[_e,Ne,Ue,We,Ge,Fe]),n.swipeRight&&(g=n.swipeRight.call(Ze,t,_e,Ne,Ue,We,Ge,Fe));break;case i:Ze.trigger("swipeUp",[_e,Ne,Ue,We,Ge,Fe]),n.swipeUp&&(g=n.swipeUp.call(Ze,t,_e,Ne,Ue,We,Ge,Fe));break;case a:Ze.trigger("swipeDown",[_e,Ne,Ue,We,Ge,Fe]),n.swipeDown&&(g=n.swipeDown.call(Ze,t,_e,Ne,Ue,We,Ge,Fe))}}}if(c==d){if(Ze.trigger("pinchStatus",[u,Ye||null,ze||0,Ue||0,We,Ie,Ge]),n.pinchStatus&&!1===(g=n.pinchStatus.call(Ze,t,u,Ye||null,ze||0,Ue||0,We,Ie,Ge)))return!1;if(u==y&&z())switch(Ye){case s:Ze.trigger("pinchIn",[Ye||null,ze||0,Ue||0,We,Ie,Ge]),n.pinchIn&&(g=n.pinchIn.call(Ze,t,Ye||null,ze||0,Ue||0,We,Ie,Ge));break;case l:Ze.trigger("pinchOut",[Ye||null,ze||0,Ue||0,We,Ie,Ge]),n.pinchOut&&(g=n.pinchOut.call(Ze,t,Ye||null,ze||0,Ue||0,We,Ie,Ge))}}return c==p?u!==x&&u!==y||(clearTimeout(et),clearTimeout(tt),K()&&!ee()?($e=Oe(),et=setTimeout(e.proxy(function(){$e=null,Ze.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(Ze,t,t.target))},this),n.doubleTapThreshold)):($e=null,Ze.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(Ze,t,t.target)))):c==f?u!==x&&u!==y||(clearTimeout(et),clearTimeout(tt),$e=null,Ze.trigger("doubletap",[t.target]),n.doubleTap&&(g=n.doubleTap.call(Ze,t,t.target))):c==m&&(u!==x&&u!==y||(clearTimeout(et),$e=null,Ze.trigger("longtap",[t.target]),n.longTap&&(g=n.longTap.call(Ze,t,t.target)))),g}function F(){var e=!0;return null!==n.threshold&&(e=Ne>=n.threshold),e}function U(){var e=!1;return null!==n.cancelThreshold&&null!==_e&&(e=me(_e)-Ne>=n.cancelThreshold),e}function V(){return null===n.pinchThreshold||ze>=n.pinchThreshold}function D(){return!(n.maxTimeThreshold&&Ue>=n.maxTimeThreshold)}function I(e,t){if(!1!==n.preventDefaultEvents)if(n.allowPageScroll===u)e.preventDefault();else{var s=n.allowPageScroll===c;switch(t){case r:(n.swipeLeft&&s||!s&&n.allowPageScroll!=g)&&e.preventDefault();break;case o:(n.swipeRight&&s||!s&&n.allowPageScroll!=g)&&e.preventDefault();break;case i:(n.swipeUp&&s||!s&&n.allowPageScroll!=E)&&e.preventDefault();break;case a:(n.swipeDown&&s||!s&&n.allowPageScroll!=E)&&e.preventDefault()}}}function z(){var e=G(),t=q(),n=V();return e&&t&&n}function Y(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function B(){return!(!z()||!Y())}function Z(){var e=D(),t=F(),n=G(),r=q();return!U()&&r&&n&&t&&e}function X(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function W(){return!(!Z()||!X())}function G(){return We===n.fingers||n.fingers===v||!R}function q(){return 0!==Ge[0].end.x}function Q(){return!!n.tap}function K(){return!!n.doubleTap}function J(){return!!n.longTap}function $(){if(null==$e)return!1;var e=Oe();return K()&&e-$e<=n.doubleTapThreshold}function ee(){return $()}function te(){return(1===We||!R)&&(isNaN(Ne)||Ne<n.threshold)}function ne(){return Ue>n.longTapThreshold&&Ne<b}function re(){return!(!te()||!Q())}function oe(){return!(!$()||!K())}function ie(){return!(!ne()||!J())}function ae(e){Ke=Oe(),Je=e.touches.length+1}function se(){Ke=0,Je=0}function le(){var e=!1;return Ke&&Oe()-Ke<=n.fingerReleaseThreshold&&(e=!0),e}function ue(){return!(!0!==Ze.data(H+"_intouch"))}function ce(e){Ze&&(!0===e?(Ze.bind(Se,j),Ze.bind(Ae,P),ke&&Ze.bind(ke,A)):(Ze.unbind(Se,j,!1),Ze.unbind(Ae,P,!1),ke&&Ze.unbind(ke,A,!1)),Ze.data(H+"_intouch",!0===e))}function he(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Ge[e]=n,n}function de(e){var t=void 0!==e.identifier?e.identifier:0,n=pe(t);return null===n&&(n=he(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function pe(e){return Ge[e]||null}function fe(e,t){e!=u&&(t=Math.max(t,me(e)),Be[e].distance=t)}function me(e){if(Be[e])return Be[e].distance}function ge(){var e={};return e[r]=Ee(r),e[o]=Ee(o),e[i]=Ee(i),e[a]=Ee(a),e}function Ee(e){return{direction:e,distance:0}}function ve(){return Qe-qe}function be(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Te(e,t){return(t/e*1).toFixed(2)}function we(){return Ie<1?l:s}function ye(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function xe(e,t){var n=e.x-t.x,r=t.y-e.y,o=Math.atan2(r,n),i=Math.round(180*o/Math.PI);return i<0&&(i=360-Math.abs(i)),i}function Re(e,t){if(Me(e,t))return u;var n=xe(e,t);return n<=45&&n>=0?r:n<=360&&n>=315?r:n>=135&&n<=225?o:n>45&&n<135?a:i}function Oe(){return(new Date).getTime()}function Le(t){var n=(t=e(t)).offset();return{left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()}}function He(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function Me(e,t){return e.x==t.x&&e.y==t.y}var n=e.extend({},n),je=R||L||!n.fallbackToMouseEvents,Pe=je?L?O?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Se=je?L?O?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ae=je?L?O?"MSPointerUp":"pointerup":"touchend":"mouseup",ke=je?L?"mouseleave":null:"mouseleave",Ce=L?O?"MSPointerCancel":"pointercancel":"touchcancel",Ne=0,_e=null,Fe=null,Ue=0,Ve=0,De=0,Ie=1,ze=0,Ye=0,Be=null,Ze=e(t),Xe="start",We=0,Ge={},qe=0,Qe=0,Ke=0,Je=0,$e=0,et=null,tt=null;try{Ze.bind(Pe,M),Ze.bind(Ce,S)}catch(t){e.error("events not supported "+Pe+","+Ce+" on jQuery.swipe")}this.enable=function(){return this.disable(),Ze.bind(Pe,M),Ze.bind(Ce,S),Ze},this.disable=function(){return k(),Ze},this.destroy=function(){k(),Ze.data(H,null),Ze=null},this.option=function(t,r){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===r)return n[t];n[t]=r}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var r="left",o="right",i="up",a="down",s="in",l="out",u="none",c="auto",h="swipe",d="pinch",p="tap",f="doubletap",m="longtap",g="horizontal",E="vertical",v="all",b=10,T="start",w="move",y="end",x="cancel",R="ontouchstart"in window,O=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!R,L=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!R,H="TouchSwipe",M={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(n){var r=e(this),o=r.data(H);if(o&&"string"==typeof n){if(o[n])return o[n].apply(o,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(o&&"object"==typeof n)o.option.apply(o,arguments);else if(!(o||"object"!=typeof n&&n))return t.apply(this,arguments);return r},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults=M,e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:w,PHASE_END:y,PHASE_CANCEL:x},e.fn.swipe.directions={LEFT:r,RIGHT:o,UP:i,DOWN:a,IN:s,OUT:l},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:g,VERTICAL:E,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:v}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function n(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function r(){var t=e.style.height,r=n(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="";var i=e.scrollHeight+s;0!==e.scrollHeight?(e.style.height=i+"px",l=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)):e.style.height=t}function o(){r();var n=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),i="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(i!==n?"hidden"===o.overflowY&&(t("scroll"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(t("hidden"),r(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),u!==i){u=i;var s=a("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var s=null,l=e.clientWidth,u=null,c=function(){e.clientWidth!==l&&o()},h=function(t){window.removeEventListener("resize",c,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",h,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",h,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",c,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:h,update:o}),function(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),o()}()}}function r(e){var t=i.get(e);t&&t.destroy()}function o(e){var t=i.get(e);t&&t.update()}var i="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(n){return t[e.indexOf(n)]},set:function(n,r){-1===e.indexOf(n)&&(e.push(n),t.push(r))},delete:function(n){var r=e.indexOf(n);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=s}),function(e,t,n){function r(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var o,i="hashchange",a=document,s=e.event.special,l=a.documentMode,u="on"+i in t&&(l===n||l>7);e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.fn[i].delay=50,s[i]=e.extend(s[i],{setup:function(){if(u)return!1;e(o.start)},teardown:function(){if(u)return!1;e(o.stop)}}),o=function(){function o(){var n=r(),a=p(c);n!==c?(d(c=n,a),e(t).trigger(i)):a!==c&&(location.href=location.href.replace(/#.*/,"")+a),s=setTimeout(o,e.fn[i].delay)}var s,l={},c=r(),h=function(e){return e},d=h,p=h;return l.start=function(){s||o()},l.stop=function(){s&&clearTimeout(s),s=n},e.browser.msie&&!u&&function(){var t,n;l.start=function(){t||(n=e.fn[i].src,n=n&&n+r(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||d(r()),o()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,a.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=a.title)}catch(e){}})},l.stop=h,p=function(){return r(t.location.href)},d=function(n,r){var o=t.document,s=e.fn[i].domain;n!==r&&(o.title=a.title,o.open(),s&&o.write('<script>document.domain="'+s+'"<\/script>'),o.close(),t.location.hash=n)}}(),l}()}(jQuery,this);