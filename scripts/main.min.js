function initImageGlitch(){jQuery.fn.noisy=function(e){e=jQuery.extend({},jQuery.fn.noisy.defs,e);var t=this,o=[{x:0,y:0},{x:0,y:0},{x:0,y:0}],n=jQuery(this),a=[Math.random()+1,Math.random()+1,Math.random()+1],i=[0,0,0],s=0,r=[],c=null,d=e.rows,l=e.ratio,u=e.img,p=!1,h=e.id;this.run=function(){var e;for(e=0;e<3;e++)a[e]>=1&&(--a[e],i[e]=Math.random()/4+.03),a[e]+=i[e],s+=.25*(38-s),o[e].x=Math.ceil(Math.sin(a[e]*Math.PI*2)*i[e]*s*2),o[e].y=0;var t=(Math.abs(o[0].x)+Math.abs(o[1].x)+Math.abs(o[2].x)+8)/4;for(e=d;e-=1;){var n=.8*Math.sin(e/d*Math.PI*(Math.random()/8+1))*t*t;r[e].css({transform:"translateZ(0) translate3d(0, 0, 0) translateX("+n+"px)",webkitTransform:"translateZ(0) translate3d(0, 0, 0) translateX("+n+"px)"})}},this.go=function(){p=!0,clearInterval(c),c=setInterval(this.run,30)},this.pause=function(){p=!1,clearInterval(c),c=null;for(var e=0;e<d;e++)r[e].css({transform:"translateZ(0) translate3d(0, 0, 0)",webkitTransform:"translateZ(0) translate3d(0, 0, 0)"})},this.updateContainerBounds=function(){var e=$(h).outerWidth(),t=$(h).outerHeight();if(l<t/e){var o=e*l;n.css({height:o+"px",padding:(t-o)/2+"px 0px"})}else{var a=t/l;n.css({height:t+"px",padding:"0px "+(e-a)/2+"px"})}},this.changeImage=function(e){var t=$(h).outerWidth(),o=$(h).outerHeight(),a=new Image;a.onload=function(){l=this.height/this.width;for(var a=0;a<d;a++)n.find("div").eq(a).css({backgroundImage:"url("+e+")"});if(l<o/t){var i=t*l;n.css({height:i+"px",padding:(o-i)/2+"px 0px"})}else{var s=o/l;n.css({height:o+"px",padding:"0px "+(t-s)/2+"px"})}},a.src=e},n.css({position:"relative",padding:"0px calc((430px - "+430*l+"px) / 2)"});for(var m=0;m<d;m++){var g=100*m/d+"%";n.append("<div></div>"),n.find("div").eq(m).css({backgroundImage:"url("+u+")",backgroundPosition:"0px "+("0%"==g?"0.2%":g),backgroundSize:"cover",width:"100%",flex:"1",cursor:"pointer",transform:"translateZ(0) translate3d(0, 0, 0)",webkitTransform:"translateZ(0) translate3d(0, 0, 0)"}),r.push(n.find("div").eq(m))}return e.auto&&setInterval(function(){p||(t.go(),setTimeout(t.pause(),e.delay/2*Math.random()))},e.delay),this.initialize=function(){return this},this.initialize()},jQuery.fn.noisy.defs={rows:0,ratio:1,img:"",auto:!1,delay:7e3}}function initModal(){$(".modal-open").on("click",function(e){var t=$(this),o=$(t).data("modal");$(o).parents(".modal-overlay").addClass("modal-opened"),setTimeout(function(){$(o).addClass("modal-opened")},350),$(document).on("click",function(e){var t=$(e.target);$(t).hasClass("modal-overlay")&&($(t).find(".modal-modal").each(function(){$(this).removeClass("modal-opened")}),setTimeout(function(){$(t).removeClass("modal-opened")},350))})}),$(".modal-close").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation;var t=$(this),o=$(t).data("modal");$(o).removeClass("modal-opened"),setTimeout(function(){$(o).parents(".modal-overlay").removeClass("modal-opened")},350)})}function openModal(e){-1==e.indexOf("#")&&(e="#"+e),$(e).parents(".modal-overlay").addClass("modal-opened"),setTimeout(function(){$(e).addClass("modal-opened")},350),$(document).on("click",function(e){var t=$(e.target);$("#model-modal").hasClass("modal-opened")||$(t).hasClass("modal-overlay")&&($(t).find(".modal-modal").each(function(){$(this).removeClass("modal-opened")}),setTimeout(function(){$(t).removeClass("modal-opened")},350))})}function closeModal(e){-1==e.indexOf("#")&&(e="#"+e),$(e).removeClass("modal-opened"),setTimeout(function(){$(e).parents(".modal-overlay").removeClass("modal-opened")},350)}function isSafari(){var e=navigator.userAgent.toLowerCase();if(-1!=e.indexOf("safari"))return!(e.indexOf("chrome")>-1)}function turnScreenOn(e){isSafari()?$(".awge-content").css("-webkit-animation","turn-on-safari "+e+"s linear"):$(".awge-content").css("animation","turn-on "+e+"s linear")}function turnScreenOff(e){isSafari()?$(".awge-content").css("-webkit-animation","turn-off-safari "+e+"s linear forwards"):$(".awge-content").css("animation","turn-off "+e+"s linear forwards")}function preloader(){var e=new Image,t=new Image,o=new Image,n=new Image,a=new Image,i=new Image,s=new Image,r=new Image,c=new Image,d=new Image;new Image;e.src="https://dwvo2npct47gg.cloudfront.net/gifs/question-block.gif",t.src="https://dwvo2npct47gg.cloudfront.net/gifs/cellphone.gif",o.src="https://dwvo2npct47gg.cloudfront.net/gifs/home-background.gif",n.src="https://dwvo2npct47gg.cloudfront.net/gifs/shirts_1.gif",a.src="https://dwvo2npct47gg.cloudfront.net/gifs/shirts_2.gif",i.src="https://dwvo2npct47gg.cloudfront.net/gifs/hats_1.gif",s.src="https://dwvo2npct47gg.cloudfront.net/gifs/hats_2.gif",r.src="https://dwvo2npct47gg.cloudfront.net/gifs/hats_3.gif",c.src="https://dwvo2npct47gg.cloudfront.net/gifs/asap.gif",d.src="https://dwvo2npct47gg.cloudfront.net/gifs/carti.gif",d.src="https://dwvo2npct47gg.cloudfront.net/gifs/green-shoe.gif"}function notify(e){$("#notify-message").text(e.toUpperCase()),openModal("notify-modal")}function startTextGlitch(){$(".shop-glitch-placeholder").addClass("shop-glitch")}function stopTextGlitch(){$(".shop-glitch-placeholder").removeClass("shop-glitch")}function printCredits(){console.log("                                                                    \n      _  ____      ____   ______  ________                             \n     / \\|_  _|    |_  _|.' ___  ||_   __  |                           \n    / _ \\ \\ \\  /\\  / / / .'   \\_|  | |_ \\_|                      \n   / ___ \\ \\ \\/  \\/ /  | |   ____  |  _| _                         \n _/ /   \\ \\_\\  /\\  /   \\ `.___]  |_| |__/ |                       \n|____| |____|\\/  \\/     `._____.'|________|                          \n____________________________________________                           \n____________________________________________                           \n                                                                       \nCreated by Ilya Zaidze and Alex Shortt                                 \nAlex Shortt :: Developer                                               \n  >Twitter: @_alexshortt                                               \n  >Instagram: @alexander.shortt                                        \nIlya Zaidze :: Creative + Design                                       \n  >Twitter: @ilya2x                                                    \n  >Instagram: @ilya2x                                                  ")}function isMobileView(){return window.matchMedia(smartphones).matches}function initHash(){$(window).hashchange(function(){switch(location.hash.replace(/^#/,"")||"blank"){case"blank":changePage("./pages/landing.html",3.4);break;case"home":changePage("./pages/home.html",3.4);break;case"about":changePage("./pages/about.html",3.4);break;case"contact":changePage("./pages/contact.html",3.4);break;case"shop":changePage("./pages/shop.html",3.4);break;case"checkout":changePage("./pages/checkout.html",3.4);break;case"videos":changePage("./pages/videos.html",3.4);break;case"pictures":changePage("./pages/pictures.html",3.4);break;default:changePage("./pages/error.html",3.4)}}),$(window).hashchange()}function landingLoad(){$(document).keypress(function(e){13==e.which&&""==window.location.hash&&(window.location.hash="home")}),$("#landing-start-button").click(function(){window.location.hash="home"})}function homeLoad(){$(".shop-button").click(function(){window.location.hash="shop"}),$(".about-button").click(function(){window.location.hash="about"}),$("#pictures-button").click(function(){window.location.hash="pictures"}),$(".contact-button").click(function(){window.location.hash="contact"}),$(".home-video-gif").click(function(){window.location.hash="videos"}),$(".home-video-text").click(function(){window.location.hash="videos"}),$(".home-photos-wrapper").click(function(){window.location.hash="pictures"}),$("home-navbar-text").click(function(){window.location.hash="home"}),$("#home-video-wrapper-mobile").click(function(){window.location.hash="videos"})}function contactLoad(){$("#contact-send").click(function(){if(""!=$("#contact-email").val()&&""!=$("#contact-subject").val()&&""!=$("#contact-message").val()){var e=new XMLHttpRequest;e.open("GET","./scripts/email.php?email="+$("#contact-email").val()+"&subject="+$("#contact-subject").val()+"&message="+$("#contact-message").val(),!0),e.send(),$("#contact-email").val(""),$("#contact-subject").val(""),$("#contact-message").val(""),notify("MESSAGE SENT")}else notify("Fill in all fields")}),autosize($("#contact-email")),autosize($("#contact-subject")),autosize($("#contact-message"))}function shopLoad(){$("#shop-option-shirts").click(function(){changeShopType("shirts")}),$("#shop-option-hats").click(function(){changeShopType("hats")}),$("#shop-item-decrease").click(function(){changeShopPage(-1)}),$("#shop-item-increase").click(function(){changeShopPage(1)}),$("#shop-buy-button").click(function(){isOutOfStock(currentItem.type+"-"+currentItem.index+"-"+currentItem.size)||addToCart()}),$("#cart-checkout").click(function(){cleanCart(),0!=Object.keys(getCart()).length&&(closeModal("cart-modal"),window.location.hash="checkout")}),$(".shop-items-item").click(function(){loadModel(currentItem.type+"_"+currentItem.index),$("#model-price").text("$"+shop[currentItem.type][currentItem.index].price)}),updateOutOfStock();var e=new Image;e.onload=function(){$("#shop-item").html(""),noise=$("#shop-item").noisy({rows:250,img:shop.shirts[1].image,ratio:this.height/this.width,id:"#shop-item"}),window.addEventListener("resize",function(){noise.updateContainerBounds()}),$("#shop-item-mobile").css("background-image","url("+shop.shirts[1].image),changeShopType("shirts")},e.src=shop.shirts[1].image,refreshCart()}function checkoutLoad(){Object.keys(getCart()).length<=0&&(window.location.hash="shop"),$("#cancel-order").on("click",function(){exitCheckout(),window.location.hash="shop"}),setCheckoutPage("checkout-checkout"),$("#checkout-subtotal").html("$"+getCartSubtotal().toFixed(2)),$("#continue-shopping").on("click",function(){window.location.hash="shop"}),$("#continue-to-shipping").on("click",function(){setCheckoutPage("checkout-shipping")}),displayCartCheckout("#checkout-items"),$("#continue-to-billing").on("click",function(){validateShipping()&&setCheckoutPage("checkout-billing")}),$("#back-to-checkout").on("click",function(){setCheckoutPage("checkout-checkout")}),$("#continue-to-confirmation").on("click",function(){completeBilling()}),$("#back-to-shipping").on("click",function(){setCheckoutPage("checkout-shipping")}),$("#credit-card-number").on("input",function(){var e=$("#credit-card-number").val(),t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),o=t&&t[0]||"",n=[];for(i=0,len=o.length;i<len;i+=4)n.push(o.substring(i,i+4));n.length?$("#credit-card-number").val(n.join(" ")):$("#credit-card-number").val(e)}),$("#place-order").on("click",function(){$(this).css("cursor","context-menu"),$(this).css("color","#afafaf"),chargeOrder()}),$("#back-to-billing").on("click",function(){null!=orderData&&$.ajax({method:"POST",url:"https://awge-server.herokuapp.com/cancelOrder",data:{order:orderData.orderToken}}),setCheckoutPage("checkout-billing")}),displayCartCheckout("#confirmation-items")}function messageLoad(){$("#message-order-num").text(orderData.num),$("#checkout-close-button").on("click",function(){localStorage.cart="",window.location.hash=""})}function videosLoad(){$(".videos-carousel-carousel");var e=Object.keys(videos).length,t=Math.round((e+1)/2);currentVideo=t,buildVideoPlayer(),$("#videos-info-title").text(videos[currentVideo].title),$("#videos-info-title").attr("data-text",videos[currentVideo].title),$("#videos-info-description").text(videos[currentVideo].desc),$("#videos-info-description").attr("data-text",videos[currentVideo].desc),$("#videos-info-next").on("click",function(){rotateVideo(1,1)}),$("#videos-info-prev").on("click",function(){rotateVideo(-1,1)}),$("#videos-carousel-third").swipe({swipe:function(e,t,o,n,a){"left"==t&&rotateVideo(1,.7),"right"==t&&rotateVideo(-1,.7)}})}function picturesLoad(){$(".pictures-image").on("click",function(){var e=$(this).attr("src");$("#pictures-modal-image").attr("src",e),openModal("pictures-modal")})}function loadPage(e,t){$("#awge-content").load(e,function(){switch($("#awge-tube-border").removeClass("awge-tube-border-mobile"),e){case"./pages/landing.html":$("#awge-tube-border").addClass("awge-tube-border-mobile"),landingLoad();break;case"./pages/home.html":homeLoad();break;case"./pages/contact.html":contactLoad();break;case"./pages/shop.html":shopLoad();break;case"./pages/checkout.html":checkoutLoad();break;case"./pages/videos.html":videosLoad();break;case"./pages/pictures.html":picturesLoad()}initModal(),turnScreenOn(t)})}function changePage(e,t){turnScreenOff(.35),setTimeout(loadPage,400,e,t)}function buildVideoPlayer(){for(var e=$(".videos-carousel-carousel"),t=Object.keys(videos).length,o=Math.round((t+1)/2),n=o-1;n>0;n--)e.prepend('        <div id="videos-'+n+'" onclick="openFullscreenVideo('+n+')" class="videos-carousel-item" style="transform: rotateY('+40*(n-o)+'deg) translateZ(31vw)">            <video class="videos-carousel-video" loop muted poster="'+videos[n].thumbnail+'">                <source src="'+videos[n].link+'" type="video/mp4">                Your browser does not support the video tag.            </video>            <img src="'+videos[n].gif+'" class="videos-carousel-video-gif" />        </div>        '),(a=document.createElement("style")).type="text/css",a.innerHTML="@media "+smartphones+" {#videos-"+n+"{transform: rotateY("+40*(n-o)+"deg) translateZ(61vw) !important;}",document.getElementsByTagName("head")[0].appendChild(a);e.append('    <div id="videos-'+o+'" onclick="openFullscreenVideo('+o+')" class="videos-carousel-item videos-carousel-currentVideo" style="transform: rotateY(0deg) translateZ(31vw)">        <video class="videos-carousel-video" autoplay loop muted poster="'+videos[o].thumbnail+'">            <source src="'+videos[o].link+'" type="video/mp4">            Your browser does not support the video tag.        </video>        <img src="'+videos[o].gif+'" class="videos-carousel-video-gif" />    </div>    ');var a=document.createElement("style");a.type="text/css",a.innerHTML="@media "+smartphones+"{#videos-"+o+"{transform: rotateY(0deg) translateZ(61vw) !important;}",document.getElementsByTagName("head")[0].appendChild(a);for(n=o+1;n<=Object.keys(videos).length;n++)e.append('        <div id="videos-'+n+'" onclick="openFullscreenVideo('+n+')" class="videos-carousel-item" style="transform: rotateY('+40*(n-o)+'deg)  translateZ(31vw)">            <video class="videos-carousel-video" loop muted poster="'+videos[n].thumbnail+'">                <source src="'+videos[n].link+'" type="video/mp4">                Your browser does not support the video tag.            </video>            <img src="'+videos[n].gif+'" class="videos-carousel-video-gif" />        </div>        '),(a=document.createElement("style")).type="text/css",a.innerHTML="@media "+smartphones+" {#videos-"+n+"{transform: rotateY("+40*(n-o)+"deg) translateZ(61vw) !important;}",document.getElementsByTagName("head")[0].appendChild(a)}function rotateVideo(e,t){var o=$(".videos-carousel-carousel"),n=Object.keys(videos).length,a=Math.round((n+1)/2);if($($(".videos-carousel-item")[currentVideo-1]).removeClass("videos-carousel-currentVideo"),isMobileView()||$($(".videos-carousel-video")[currentVideo-1]).get(0).pause(),currentVideo+=e,startTextGlitch(),currentVideo<1)currentVideo=1,$($(".videos-carousel-item")[currentVideo-1]).addClass("videos-carousel-currentVideo"),isMobileView()||$($(".videos-carousel-video")[currentVideo-1]).get(0).play(),tryRotateCarousel((i=40*(a-currentVideo))+10,i,t);else if(currentVideo>n)currentVideo=n,$($(".videos-carousel-item")[currentVideo-1]).addClass("videos-carousel-currentVideo"),isMobileView()||$($(".videos-carousel-video")[currentVideo-1]).get(0).play(),tryRotateCarousel((i=40*(a-currentVideo))-10,i,t);else{var i=40*(a-currentVideo);$($(".videos-carousel-item")[currentVideo-1]).addClass("videos-carousel-currentVideo"),isMobileView()||$($(".videos-carousel-video")[currentVideo-1]).get(0).play(),o.css({"-webkit-transform":"rotateY("+i+"deg)","-moz-transform":"rotateY("+i+"deg)","-o-transform":"rotateY("+i+"deg)",transform:"rotateY("+i+"deg)"}),o.css({transition:"transform "+500*t/1e3+"s"}),setTimeout(function(){$("#videos-info-title").text(videos[currentVideo].title),$("#videos-info-title").attr("data-text",videos[currentVideo].title),$("#videos-info-description").text(videos[currentVideo].desc),$("#videos-info-description").attr("data-text",videos[currentVideo].desc),stopTextGlitch()},500*t)}}function tryRotateCarousel(e,t,o){var n=$(".videos-carousel-carousel");n.css({transition:"transform .25s"}),n.css({"-webkit-transform":"rotateY("+e+"deg)","-moz-transform":"rotateY("+e+"deg)","-o-transform":"rotateY("+e+"deg)",transform:"rotateY("+e+"deg)"}),setTimeout(function(){n.css({"-webkit-transform":"rotateY("+t+"deg)","-moz-transform":"rotateY("+t+"deg)","-o-transform":"rotateY("+t+"deg)",transform:"rotateY("+t+"deg)"}),setTimeout(function(){n.css({transition:"transform 1s"}),stopTextGlitch()},250*o)},250*o)}function openFullscreenVideo(e){e==currentVideo&&($($(".videos-carousel-item")[currentVideo-1]).addClass("animate-turn-off"),setTimeout(function(){$(".videos-content").prepend('            <div onclick="closeFullscreenVideo()" class="videos-fullscreen-container">                <video id="videos-fullscreen-video" onclick="closeFullscreenVideo()" class="videos-fullscreen-video animate-turn-on" autoplay loop poster="https://dwvo2npct47gg.cloudfront.net/gifs/video-loading.gif">                    <source src="'+videos[e].link+'" type="video/mp4">                    Your browser does not support the video tag.                </video>            </div>            '),setTimeout(function(){$("#videos-fullscreen-video").get(0).play()},100)},425))}function closeFullscreenVideo(){$($(".videos-carousel-item")[currentVideo-1]).removeClass("animate-turn-off"),$(".videos-fullscreen-container").addClass("animate-turn-off"),setTimeout(function(){$(".videos-fullscreen-container").remove()},425)}function setShopProduct(e,t){null==shop[e][t]&&changeShopType("shirts");var o=$("#shop-item-price"),n=$("#shop-item-progress"),a=$("#shop-item-image"),i=Object.keys(shop[e]).length;noise.go(),startTextGlitch(),$("#shop-item-mobile").css("background-image","url("+shop[e][t].image+")"),setTimeout(function(){noise.changeImage(shop[e][t].image),$(n).html(t+"/"+i).attr("data-text",t+"/"+i),$(o).html("$"+shop[e][t].price).attr("data-text","$"+shop[e][t].price).data(shop[e][t].price),$(a).prop("src",shop[e][t].image),currentItem.type=e,currentItem.index=t,resetSizes(),setTimeout(function(){noise.pause(),stopTextGlitch()},400)},400)}function changeShopType(e){resetSizes();var t=$(".shop-items-container"),o=$(".shop-type-container");$(o).children().removeClass("shop-option-active"),$(".shop-option-"+e).addClass("shop-option-active"),$(t).css("animation","turn-off"+(isSafari()?"-safari":"")+" 0.45s linear forwards"),setTimeout(function(){setShopProduct(e,1),resetSizes(),$(t).css("animation","turn-on-quick"+(isSafari()?"-safari":"")+" 0.65s linear")},650)}function changeShopPage(e){var t=currentItem.type,o=Object.keys(shop[t]).length,n=parseInt(currentItem.index)+e;n>o?n=1:n<1&&(n=o),setShopProduct(t,n)}function closeSizes(e){var t=$(".shop-size-wrapper"),o=$(".shop-items-options-middle");$(t).html(""),null==e?($(t).append('<h1 onclick="openSizes()" class="shop-item-option shop-size-button">SIZE</h1>'),currentItem.size=null):($(t).append('<h1 onclick="openSizes()" id="shop-size-final" class="shop-item-option shop-size-button">'+e+"</h1>"),currentItem.size=e),updateBuyButton(),$(o).css("width","auto"),$(o).removeClass("shop-items-options-middle-open")}function openSizes(){var e=$(".shop-size-wrapper"),t=$(".shop-items-options-middle"),o=currentItem.type,n=currentItem.index,a=Object.keys(shop[o][n].sizes).length;$(e).html("");for(var i=0;i<a;i++)$(e).append("<h1 onclick=\"closeSizes('"+shop[o][n].sizes[i]+'\')" class="shop-item-option shop-size-option">'+shop[o][n].sizes[i]+"</h1>");$(t).css("width",$(t).width()),$(t).animate({width:"100%"},250),$(t).addClass("shop-items-options-middle-open")}function resetSizes(){closeSizes();var e=$(".shop-size-wrapper"),t=$(".shop-items-options-middle");$(e).html(""),$(t).removeClass("shop-items-options-middle-open"),"hats"==currentItem.type?($(e).css("display","none"),currentItem.size="OSFA",updateBuyButton()):($(e).css("display","flex"),$(e).append('<h1 onclick="openSizes()" class="shop-item-option shop-size-button">SIZE</h1>'),currentItem.size=null)}function getCart(){try{return null==localStorage.cart?{}:JSON.parse(localStorage.cart)}catch(e){return console.log("Error Getting Cart - Emptying...  :: "+e),localStorage.cart="{}",JSON.parse(localStorage.cart)}}function cleanCart(){var e=getCart();if(0!=Object.keys(e).length){for(var t=Object.keys(e).length-1;t>=0;t--){var o=Object.keys(e)[t],n=o.split("-")[0],a=o.split("-")[1],i=o.split("-")[2];null!=n&&null!=a&&null!=i?null!=shop[n][a]||delete e[o]:delete e[o]}localStorage.cart=JSON.stringify(e)}}function refreshCart(){cleanCart();var e=$("#cart-container");$(e).html("");for(var t=getCart(),o=0;o<Object.keys(t).length;o++){var n=Object.keys(t)[o];if(0!=t[n]){var a=n.split("-")[0],i=n.split("-")[1],s=n.split("-")[2],r=shop[a][i];null==r&&(t[n]=0),$(e).append("<div id="+n+' class="cart-item">                         <div class="cart-item-delete-wrapper">                            <h1 class="cart-item-delete" onclick="removeFromCart(\''+n+'\')">X</h1>                        </div>                        <div class="cart-item-image" style="background-image: url(\''+r.image+'\')"></div>                        <div class="cart-item-name-wrapper">                            <h1 class="cart-item-name">'+r.name+("OSFA"==s?"":" - SZ "+s)+'</h1>                        </div>                        <div class="cart-item-quantity-wrapper">                            <h1 class="cart-item-quantity">'+t[n]+'</h1>                        </div>                        <div class="cart-item-price-wrapper">                            <h1 class="cart-item-price">$'+parseFloat(r.price)*parseFloat(t[n])+"</h1>                        </div>                    </div>")}}""==$(e).html()&&$(e).append('<div class="cart-items-text">YOUR CART IS EMPTY...</div>'),localStorage.cart=JSON.stringify(t)}function addToCart(){if(null!=currentItem.size){var e=currentItem.type,t=currentItem.index,o=currentItem.size,n=(shop[e][t],e+"-"+t+"-"+o),a=getCart();null==a[n]&&(a[n]=0),a[n]++,localStorage.cart=JSON.stringify(a),refreshCart(),openModal("cart-modal")}else console.log("Add to cart failed :: No Size")}function removeFromCart(e){var t=getCart();delete t[e],localStorage.cart=JSON.stringify(t),refreshCart()}function updateOutOfStock(){$.ajax({method:"GET",url:"https://awge-server.herokuapp.com/outOfStock"}).done(function(e){try{e=JSON.parse(e)}catch(e){return void notify("Bad Server Response")}"true"!=e.error?outOfStock=e:notify(e.message)})}function isOutOfStock(e){if(0==Object.keys(outOfStock).length)return!1;for(var t=0;t<Object.keys(outOfStock).length;t++)if(outOfStock[t]==e)return!0;return!1}function updateBuyButton(){var e=$("#shop-buy-button");$(e).removeClass("shop-buy-button-disabled"),$(e).text("Buy"),isOutOfStock(currentItem.type+"-"+currentItem.index+"-"+currentItem.size)&&($(e).addClass("shop-buy-button-disabled"),$(e).text("Sold Out"))}function displayCartCheckout(e){for(var t=getCart(),o=0;o<Object.keys(t).length;o++){var n=Object.keys(t)[o];if(0!=t[n]){var a=n.split("-")[0],i=n.split("-")[1],s=n.split("-")[2],r=shop[a][i];null==r&&(t[n]=0),$(e).append("<div id="+n+' class="cart-item">                         <div class="cart-item-image" style="background-image: url(\''+r.image+'\')"></div>                        <div class="cart-item-name-wrapper">                            <h1 class="cart-item-name">'+r.name+("OSFA"==s?"":" - SZ "+s)+'</h1>                        </div>                        <div class="cart-item-quantity-wrapper">                            <h1 class="cart-item-quantity">'+t[n]+'</h1>                        </div>                        <div class="cart-item-price-wrapper">                            <h1 class="cart-item-price">$'+parseFloat(r.price)*parseFloat(t[n])+"</h1>                        </div>                    </div>")}}}function getCartSubtotal(){for(var e=getCart(),t=0,o=0;o<Object.keys(e).length;o++){var n=Object.keys(e)[o],a=n.split("-")[0],i=n.split("-")[1],s=(n.split("-")[2],shop[a][i]);null==s&&(e[n]=0),t+=parseFloat(s.price)*parseFloat(e[n])}return t}function setCheckoutPage(e){$("#checkout-checkout").css("display","none"),$("#checkout-shipping").css("display","none"),$("#checkout-billing").css("display","none"),$("#checkout-confirmation").css("display","none"),$("#"+e).css("display","flex")}function exitCheckout(){null!=orderData&&$.ajax({method:"POST",url:"https://awge-server.herokuapp.com/cancelOrder",data:{order:orderData.orderToken}}),window.location.hash="shop"}function initStripe(){Stripe.setPublishableKey("pk_live_XpaoVwWRh6575x3AlhWKeHW7")}function validateShipping(){for(var e=$(".shipping-input").length,t=0;t<e;t++){var o=$("input")[t];if(""==$(o).val()&&"state"!=$(o).attr("name")&&"address-line-2"!=$(o).attr("name")&&"state"!=$(o).attr("name"))return notify("Fill In Shipping Info For value: "+$(o).attr("name")),!1}return!0}function validateBilling(){return Stripe.card.validateCardNumber($("#credit-card-number").val())?Stripe.card.validateCVC($("#credit-card-cvc").val())?Stripe.card.validateExpiry($("#credit-card-expiry").val())?""!=$("#credit-card-name").val()||(notify("Fill in billing info for value: "+$("#credit-card-name").attr("id")),!1):(notify("Invalid Expiry."),!1):(notify("Invalid CVC."),!1):(notify("Invalid Card Number."),!1)}function completeBilling(){return!(!validateShipping()||!validateBilling())&&($("#continue-to-confirmation").css("cursor","context-menu"),$("#continue-to-confirmation").css("color","#afafaf"),Stripe.card.createToken({number:$("#credit-card-number").val(),cvc:$("#credit-card-cvc").val(),exp:$("#credit-card-expiry").val(),name:$("#credit-card-name").val()},createOrder),!0)}function createOrder(e,t){for(var o=[],n=getCart(),a={currency:"usd",email:$("#email").val()},i=0;i<Object.keys(n).length;i++){var s=Object.keys(n)[i];o[i]={type:"sku",parent:s,quantity:n[s]}}if(shipping={name:$("#first-name").val()+" "+$("#last-name").val(),address:{line1:$("#address-line-1").val(),city:$("#city").val()}},""!=$("#address-line-2").val()&&(shipping.address.line2=$("#address-line-2").val()),""!=$("#zipcode").val()&&(shipping.address.postal_code=$("#zipcode").val()),""!=$("#state").val()&&(shipping.address.state=$("#state").val()),a.items=o,a.shipping=shipping,checkoutEmail=a.email,t.error)notify(t.error.message),$("#place-order").css("cursor","pointer"),$("#place-order").css("color","white");else{var r=t.id;$.ajax({method:"GET",url:"https://awge-server.herokuapp.com/createOrder?data="+encodeURIComponent(JSON.stringify(a))+"&payToken="+encodeURIComponent(r)}).done(function(e){$("#continue-to-confirmation").css("cursor","pointer"),$("#continue-to-confirmation").css("color","white");try{e=JSON.parse(e)}catch(e){return void notify("Bad Server Response")}if("true"==e.error)return notify(e.message),$("#place-order").css("cursor","pointer"),$("#place-order").css("color","white"),void(orderData=null);orderData=e,$("#confirmation-subtotal").html("$"+getCartSubtotal().toFixed(2)),$("#confirmation-shipping").html("$"+(orderData.shipping/100).toFixed(2)),$("#confirmation-tax").html("$"+(orderData.tax/100).toFixed(2)),$("#confirmation-total").html("$"+(orderData.total/100).toFixed(2)),setCheckoutPage("checkout-confirmation")})}}function chargeOrder(){$.ajax({method:"GET",url:"https://awge-server.herokuapp.com/chargeOrder?order="+encodeURIComponent(orderData.orderToken)+"&pay="+encodeURIComponent(orderData.payToken)+"&email="+encodeURIComponent(checkoutEmail)}).done(function(e){$("#place-order").css("cursor","pointer"),$("#place-order").css("color","white");try{e=JSON.parse(e)}catch(e){return void notify("Bad Server Response")}"true"!=e.error?(orderData.num=e.num,$(".checkout-container").load("./pages/message.html",function(){messageLoad()})):notify(e.message)})}function initModel(e){var t=window.innerWidth,o=window.innerHeight;scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,t/o,.1,1e3),renderer=new THREE.WebGLRenderer({alpha:!0});new THREE.JSONLoader;renderer.setSize(t,o),renderer.setClearColor(0,0),$(e).append(renderer.domElement);var n=new THREE.AmbientLight(14737632);scene.add(n),camera.position.z=5,(controls=new THREE.OrbitControls(camera,renderer.domElement)).enablePan=!1,window.addEventListener("resize",function(){var e=window.innerWidth,t=window.innerHeight;renderer.setSize(e,t),camera.aspect=e/t,camera.updateProjectionMatrix()})}function animateModel(){requestAnimationFrame(animateModel),renderer.render(scene,camera),controls.update()}function setCameraPosition(e,t,o){camera.position.x=e,camera.position.y=t,camera.position.z=o}function animateModelLoading(){var e="Loading",t=($("#model-loading").text().match(/\./g)||[]).length;++t>3&&(t=1);for(var o=0;o<t;o++)e+=".";$("#model-loading").text(e)}function showModelLoading(){return $("#model-loading").animate({opacity:1},1e3),setInterval(animateModelLoading,400)}function hideModelLoading(e){$("#model-loading").animate({opacity:0},750),setTimeout(function(){clearInterval(e)},1e3)}function loadModel(e){var t=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},o=function(e){};null!=object&&scene.remove(object);var n=showModelLoading(),a=new THREE.MTLLoader;a.setPath("./awge-media/models/"),a.load(e+".mtl",function(a){a.preload();var i=new THREE.OBJLoader;i.setMaterials(a),i.setPath("https://dwvo2npct47gg.cloudfront.net/models/"),i.load(e+".obj",function(t){hideModelLoading(n),setTimeout(function(){switch(object=t,object.position.y=0,object.rotation.x=Math.PI/-2,e){case"shirts_1":setCameraPosition(0,12.4,24.6),controls.minDistance=7,controls.maxDistance=50;break;case"shirts_2":setCameraPosition(4.3,8.6,27.7),controls.minDistance=7,controls.maxDistance=50;break;case"hats_1":setCameraPosition(23,47.2,144.1),controls.minDistance=50,controls.maxDistance=200;break;case"hats_2":setCameraPosition(42.2,20.3,115.7),controls.minDistance=50,controls.maxDistance=200;break;case"hats_3":setCameraPosition(7.1,24.2,122.3),controls.minDistance=50,controls.maxDistance=200;break;case"revenge_green":setCameraPosition(90.2,32.9,61.9),controls.minDistance=50,controls.maxDistance=200}scene.add(object)},750)},t,o)})}var noise,smartphones="screen and (max-width: 480px) and (orientation: portrait), screen and (max-height: 480px) and (orientation: landscape)",videos={1:{link:"https://dwvo2npct47gg.cloudfront.net/videos/monsterew-cropped.mp4",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/wrong.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/wrong.png",title:"AWGE 01",desc:"AWGE 01 DESCRIPTION"},2:{link:"https://dwvo2npct47gg.cloudfront.net/videos/rocky-1-compressed.mp4",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/rocky-1.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/rocky-1.png",title:"AWGE 02",desc:"AWGE 02 DESCRIPTION"},3:{link:"https://dwvo2npct47gg.cloudfront.net/videos/rocky-2.mov",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/rocky-2.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/rocky-2.png",title:"AWGE 03",desc:"AWGE 03 DESCRIPTION"},4:{link:"https://dwvo2npct47gg.cloudfront.net/videos/rocky-concert.mp4",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/rocky-concert.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/rocky-concert.png",title:"AWGE 04",desc:"AWGE 04 DESCRIPTION"},5:{link:"https://dwvo2npct47gg.cloudfront.net/videos/rocky-music.mp4",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/rocky-music.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/rocky-music.png",title:"AWGE 05",desc:"AWGE 05 DESCRIPTION"},6:{link:"https://dwvo2npct47gg.cloudfront.net/videos/rocky-home.mp4",gif:"https://dwvo2npct47gg.cloudfront.net/gifs/rocky-home.gif",thumbnail:"https://dwvo2npct47gg.cloudfront.net/images/rocky-home.png",title:"AWGE 06",desc:"AWGE 06 DESCRIPTION"}},currentVideo=1,shop={shirts:{1:{name:"ROLLING LOUD SHIRT",image:"https://dwvo2npct47gg.cloudfront.net/gifs/shirts_1.gif",price:"80",sizes:["S","M","L","XL"]},2:{name:"AWGE OR NOTHING SHIRT",image:"https://dwvo2npct47gg.cloudfront.net/gifs/shirts_2.gif",price:"Sold Out",sizes:["S","M","L","XL"]}},hats:{1:{name:"Blue AWGE Hat",image:"https://dwvo2npct47gg.cloudfront.net/gifs/hats_1.gif",price:"Sold Out"},2:{name:"Green AWGE Hat",image:"https://dwvo2npct47gg.cloudfront.net/gifs/hats_2.gif",price:"Sold Out"},3:{name:"Red AWGE Hat",image:"https://dwvo2npct47gg.cloudfront.net/gifs/hats_3.gif",price:"Sold Out"}}},outOfStock={},currentItem={};$(document).on("click",function(e){var t=$(e.target),o=$(".shop-items-options-middle");$(o).hasClass("shop-items-options-middle-open")&&($(t).hasClass("shop-items-options-middle")||$(t).hasClass("shop-size-wrapper")||$(t).hasClass("shop-item-option")||closeSizes(currentItem.size))});var checkoutShipping,checkoutEmail,orderData,scene,camera,renderer,controls,object;